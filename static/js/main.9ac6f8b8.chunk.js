(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(71)},37:function(e,t,n){},53:function(e,t){},55:function(e,t){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(25),c=n.n(l),o=(n(37),n(26)),s=n(27),i=n(30),u=n(28),m=n(31),h=n(8),d=n(9),p=n(7),v=n.n(p),f=n(17),E=n(29),g=n.n(E),b=n(4),k=(n(69),function(e){return Math.floor(Math.random()*e)+1}),w=function(e){return function(t){return Object(b.sum)(Object(b.times)(function(){return k(t)},e))}},j=function(){return w(2)(6)+3},x=function(){return Object(b.min)(Object(b.times)(function(){return k(3)},3))},S=function(e){return Math.floor(e/3)-3},C=function(e){return function(e){return e>=0?"+".concat(e):"".concat(e)}(S(e))},O=function(e){return e[Math.floor(Math.random()*e.length)]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{columns:!0,cast:!0};return function(t){return new Promise(function(n,a){g()(t,e,function(e,t){if(e)return a(e);n(t)})})}},y=function(){var e=Object(f.a)(v.a.mark(function e(t){var n,a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return a=e.sent,e.next=8,A()(a);case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(v.a.mark(function e(){var t,n,a,r,l,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ-Gk5zIkpo2A9AwhSQKnCEprv-g2vk7vHP8qWxJFm-c6osL00jvjtR8gsCbxwlthulAJh3f5mXqSPk/pub?gid=153117320&single=true&output=csv"),y("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ-Gk5zIkpo2A9AwhSQKnCEprv-g2vk7vHP8qWxJFm-c6osL00jvjtR8gsCbxwlthulAJh3f5mXqSPk/pub?gid=1613277797&single=true&output=csv"),y("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ-Gk5zIkpo2A9AwhSQKnCEprv-g2vk7vHP8qWxJFm-c6osL00jvjtR8gsCbxwlthulAJh3f5mXqSPk/pub?gid=828688644&single=true&output=csv"),y("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ-Gk5zIkpo2A9AwhSQKnCEprv-g2vk7vHP8qWxJFm-c6osL00jvjtR8gsCbxwlthulAJh3f5mXqSPk/pub?gid=674498928&single=true&output=csv")]);case 2:return t=e.sent,n=Object(d.a)(t,4),a=n[0],r=n[1],l=n[2],c=n[3],e.abrupt("return",{backgrounds:a,startingGear:r,debtholders:l,names:c});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),G=/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/,I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1,statType:"glog"},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({showKnaveStats:window.location.hash.indexOf("knave")>0}),P().then(function(t){var n=t.backgrounds,a=t.startingGear,r=t.names,l=t.debtholders;e.setState({loaded:!0,backgrounds:n,startingGear:a,names:r,debtholders:l}),e.rollCharacter(e.state.statType)})}},{key:"rollCharacter",value:function(e){var t=this.state,n=t.backgrounds,a=t.startingGear,r=t.names,l=t.debtholders,c=k(10),o=k(10),s=k(10),i=k(10),u=O(n),m={statType:e,stats:"knave"===e?{str:x(),dex:x(),con:x(),int:x(),wis:x(),cha:x()}:function(){var e={str:j(),dex:j(),con:j(),int:j(),wis:j(),cha:j()},t=Object.entries(e).reduce(function(e,t){var n=Object(d.a)(e,2),a=n[0],r=n[1],l=Object(d.a)(t,2),c=l[0],o=l[1];return o<r?[c,o]:[a,r]},["",1/0]),n=Object(d.a)(t,2),a=n[0],r=n[1];return e[a]=Math.max(r,j()),e}(),knaveHp:k(8),name:function(e){var t=O(e)["Given name"];"[Roll on surnames]"===t&&(t=O(e).Surname,console.log("picked from surname",t));var n=O(e).Surname;return"[Roll on given names]"===n&&(n=O(e)["Given name"],console.log("picked from given",n)),"".concat(t," ").concat(n)}(r),failedCareer:u["Failed career"],items:[u["Item 1"],u["Item 2"],"------","Torches","Box of matches","Rations","------","Equipment rolls: ".concat(c,", ").concat(o,", ").concat(s,", ").concat(i),"------"].concat(Object(h.a)(function(e){return function(t,n,a,r){return Object(h.a)(e[t-1].Weapon.split(G)).concat(Object(h.a)(e[n-1].Armour.split(G)),Object(h.a)(e[a-1].Item.split(G)),["".concat(r," pennies")])}}(a)(c,o,s,i))),debt:{holder:O(l),owed:10*(w(2)(6)+3)}};this.setState({character:m})}},{key:"switchStatType",value:function(e){this.setState({statType:e}),this.rollCharacter(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,a=t.character;if(!n||!a)return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Loading..."));var l=a.items,c=a.failedCareer,o=a.name,s=a.stats,i=a.statType,u=a.debt,m=Object(b.startsWith)("Special:"),h=l.filter(m).map(function(e){return e.replace("Special:","")})[0],d=l.filter(Object(b.negate)(m));return console.log(s),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"character"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,o),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{onClick:function(){return e.rollCharacter(i)}},"Roll again"),"knave"===i?r.a.createElement("button",{onClick:function(){return e.switchStatType("glog")}},"Switch to GLOG stats"):r.a.createElement("button",{onClick:function(){return e.switchStatType("knave")}},"Switch to Knave stats"))),r.a.createElement("p",null,"Failed career: ",r.a.createElement("strong",null,c)),h&&r.a.createElement("p",null,"Special: ",r.a.createElement("strong",null,h)),r.a.createElement("p",null,"Debt: owes ",r.a.createElement("strong",null,"\xa3",u.owed)," to a ",r.a.createElement("strong",null,u.holder["Debt-holder"]),r.a.createElement("span",{className:"detail"}," - ",u.holder["Debt-holder detail"]))),r.a.createElement("div",{className:"character-stats"},"knave"===i?r.a.createElement("div",{className:"character-stats-col"},r.a.createElement("h3",null,"Stats"),r.a.createElement("ul",null,r.a.createElement("li",null,"Str: ",s.str," | ",s.str+10),r.a.createElement("li",null,"Dex: ",s.dex," | ",s.dex+10),r.a.createElement("li",null,"Con: ",s.con," | ",s.con+10),r.a.createElement("li",null,"Int: ",s.int," | ",s.int+10),r.a.createElement("li",null,"Wis: ",s.wis," | ",s.wis+10),r.a.createElement("li",null,"Cha: ",s.cha," | ",s.cha+10)),r.a.createElement("ul",null,r.a.createElement("li",null,"HP: ",a.knaveHp))):r.a.createElement("div",{className:"character-stats-col"},r.a.createElement("h3",null,"Stats"),r.a.createElement("ul",null,r.a.createElement("li",null,"Str: ",s.str," (",C(s.str),")"),r.a.createElement("li",null,"Dex: ",s.dex," (",C(s.dex),")"),r.a.createElement("li",null,"Con: ",s.con," (",C(s.con),")"),r.a.createElement("li",null,"Int: ",s.int," (",C(s.int),")"),r.a.createElement("li",null,"Wis: ",s.wis," (",C(s.wis),")"),r.a.createElement("li",null,"Cha: ",s.cha," (",C(s.cha),")")),r.a.createElement("ul",null,r.a.createElement("li",null,"Attack: 11"),r.a.createElement("li",null,"HP: ",s.con-4),r.a.createElement("li",null,"Move: ",12+S(s.dex)),r.a.createElement("li",null,"Stealth: ",5+S(s.dex)),r.a.createElement("li",null,"Initiative: ",s.wis),r.a.createElement("li",null,"Save: ",6+S(s.dex)))),r.a.createElement("div",{className:"character-stat-col"},r.a.createElement("h3",null,"Gear"),r.a.createElement("p",null,"Inventory slots: ","knave"===i?s.str+10:s.str),r.a.createElement("ul",null,d.map(function(e,t){return r.a.createElement("li",{key:t},e)})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.9ac6f8b8.chunk.js.map